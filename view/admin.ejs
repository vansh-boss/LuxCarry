<%- include('./partials/header') %>
<%- include('./partials/bg-video') %>



<div class="relative z-10 w-full min-h-screen
            bg-white/16 
            px-4 sm:px-8 lg:px-20 py-24 hover:shadow-xl hover:-translate-y-1 transition duration-300">

  <div class="flex flex-col lg:flex-row gap-6">

    <!-- SIDEBAR -->
    <aside class="w-full lg:w-[20%] 
                  bg-white/80 backdrop-blur
                  rounded-xl shadow-md
                  p-4
                  self-start">   <!-- height auto -->

      <nav class="flex lg:flex-col gap-2">
        <a href="/admin"
           class="px-3 py-2 rounded-lg
                  font-medium text-sm
                  hover:bg-blue-50 hover:text-blue-600
                  transition">
          All Products
        </a>

        <a href="/owner/admin"
           class="px-3 py-2 rounded-lg
                  font-medium text-sm
                  hover:bg-blue-50 hover:text-blue-600
                  transition">
          Create New Product
        </a>
         <a href="/shop"
           class="px-3 py-2 rounded-lg
                  font-medium text-sm
                  hover:bg-blue-50 hover:text-blue-600
                  transition">
          Add to Product
        </a>
      </nav>
    </aside>

    <!-- PRODUCT AREA -->
    <main class="flex-1 
                 bg-white/90 backdrop-blur
                 rounded-xl shadow-lg
                 p-5">

      <% if(!products || products.length === 0){ %>
        <h2 class="text-gray-500 text-center py-10">
          No products found
        </h2>
      <% } %>

      <!-- PRODUCT GRID -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">

        <% products.forEach(function(product){ %>

          <div class="rounded-2xl overflow-hidden
                      bg-white
                      border border-gray-200
                      shadow-sm
                      hover:shadow-2xl hover:-translate-y-2
                      transition-all duration-300
                      group">

            <!-- IMAGE -->
            <div class="w-full h-52 flex items-center justify-center
                        bg-gradient-to-br from-gray-100 to-gray-200
                        group-hover:from-blue-100 group-hover:to-indigo-100
                        transition-all duration-300">

              <img
                src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
                class="h-44 object-contain
                       group-hover:scale-105
                       transition duration-300" />
            </div>

            <!-- INFO PANEL -->
            <div class="px-4 py-3 text-sm
                        bg-gray-900 text-white
                        group-hover:bg-black
                        transition">

              <div class="flex justify-between items-center">
                <h3 class="font-semibold truncate">
                  <%= product.name %>
                </h3>
                <span class="font-bold text-green-400">
                  â‚¹ <%= product.price %>
                </span>
              </div>

            </div>

          </div>

        <% }) %>

      </div>
    </main>
  </div>
</div>

<%- include('./partials/footer') %>
